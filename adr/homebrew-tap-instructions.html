<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Architecture Decision Records: Homebrew tap instructions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Architecture Decision Records
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">Architecture Decision Records</a></li>  </ul>
</div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Homebrew tap instructions</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>CBMC archives versions into a tap which you can use to quickly download and build various historical versions.</p>
<p>The tap is available at <a href="https://github.com/diffblue/homebrew-cbmc">https://github.com/diffblue/homebrew-cbmc</a>.</p>
<p>Any version installed from the tap will need to be built from source locally.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Managing &lt;tt&gt;brew tap&lt;/tt&gt;-based CBMC installations</h2>
<ul>
<li><p class="startli">Add the CBMC tap using the following command:</p>
<div class="fragment"><div class="line">$ brew tap diffblue/cbmc</div>
</div><!-- fragment --></li>
<li><p class="startli">Install any of the available CBMC versions in the following manner:</p>
<div class="fragment"><div class="line">$ brew install diffblue/cbmc/cbmc@5.54.0</div>
</div><!-- fragment --></li>
<li><p class="startli">To remove the version of CBMC installed you need to issue</p>
<div class="fragment"><div class="line">$ brew remove diffblue/cbmc/cbmc@5.54.0</div>
</div><!-- fragment --></li>
<li><p class="startli">To remove the tap altogether, you need to issue</p>
<div class="fragment"><div class="line">$ brew untap diffblue/cbmc</div>
</div><!-- fragment --></li>
</ul>
<h2><a class="anchor" id="autotoc_md4"></a>
CBMC maintainer instructions</h2>
<ul>
<li><p class="startli">You can clone the <a href="https://github.com/diffblue/homebrew-cbmc">CBMC tap</a> locally by issuing:</p>
<div class="fragment"><div class="line">$ brew tap diffblue/cbmc</div>
</div><!-- fragment --><p class="startli">That instruction is going to clone the above tap repository locally. Afterwards, you can proceed with installing the formulas present, edit them, etc.</p>
<p class="startli">If you wish to set up a new tap for any reason, you can use <code>brew tap-new</code> like the following example:</p>
<div class="fragment"><div class="line">$ brew tap-new &lt;developer&gt;/homebrew_cbmc</div>
</div><!-- fragment --></li>
<li><p class="startli">For any edit, the second step is to <code>cd</code> into the repository. To do that easily, it's best to ask Homebrew to give you the location of the repository:</p>
<div class="fragment"><div class="line">$ cd $(brew --repo diffblue/cbmc)</div>
</div><!-- fragment --></li>
<li><p class="startli">You can extract versions of CBMC previously available in <code>homebrew/core</code> to the tap with the following instruction:</p>
<div class="fragment"><div class="line">$ brew extract cbmc diffblue/cbmc --version=&lt;ver&gt;</div>
</div><!-- fragment --><p class="startli">For example <code>$ brew extract cbmc diffblue/cbmc --version=5.54.0</code> will have as an end result a new file under <code>Formula/cbmc@5.54.0.rb</code> that will contain the formula that we had submitted for that version of CBMC in the <code>homebrew/core</code> repository.</p>
</li>
<li><p class="startli">If you want to edit a specific version formula, you can do that by issueing</p>
<div class="fragment"><div class="line">$ brew edit cbmc@5.54.0</div>
</div><!-- fragment --><p class="startli">with the appropriate version tag. This will open the formula on the default editor in your system to allow you to make changes.</p>
<p class="startli">These changes are only going to be reflected locally - but you can <code>cd</code> to the repository, commit and then push to the tap (this is allowed only for people who have permission to push to the tap - mainly, the Diffblue open source team).</p>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md5"></a>
Notes</h2>
<ul>
<li>Bootstrapping the repository with <code>brew tap --new</code> created two github actions <code>.github/workflows/publish.yml</code> and <code>.github/workflows/tests.yml</code> which we are not using at the moment but could serve to make future automation easier.</li>
</ul>
<h2><a class="anchor" id="autotoc_md6"></a>
Known Limitations</h2>
<ul>
<li>Different CBMC versions can co-exist in the same machine, but homebrew needs a symbolic link to be established because of how it manages the <code>$PATH</code> and installation directories for binaries.</li>
<li><p class="startli">If already have a version of CBMC from the tap installed, and you want to install another version, then you need to take an extra step after installation to setup the appropriate symlinks by using the <code>brew link</code> instruction:</p>
<div class="fragment"><div class="line">$ cbmc --version   # version installed by brew</div>
<div class="line">5.54.0</div>
<div class="line">$ brew install diffblue/cbmc/cbmc@5.55.0</div>
<div class="line">$ brew link --overwrite cbmc@5.55.0</div>
<div class="line">$ cbmc --version</div>
<div class="line">5.55.0</div>
</div><!-- fragment --></li>
</ul>
<p>Last modified: 2025-01-13 20:56:20 +0100 </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
